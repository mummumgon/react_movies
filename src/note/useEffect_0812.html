import styles from "./css/App..module.css";
import {useState , useEffect } from 'react';
function App() {
  const [count , setCount] = useState(0);
  const [serch , setSerch] = useState("");
  const onClick = () => setCount( (cnt) => cnt + 1);
  const onChange = (e) => setSerch(e.target.value);
  const inOnlyOne = () => console.log('난 한번만!');

  useEffect(() => {console.log(`클릭 수=> ${count}`)} , [count]);
  
  //처음 한번은 무조건 실행
  useEffect(() => {inOnlyOne();} , []);

  //[serch] 변화할때만 반복 실행하라
  useEffect(()=>{
    //input이 비어있지 않으면 찍혀라
    if(serch !== "" ){
       console.log('검색해요=>',serch);
      }
  },[serch]);

  useEffect(() => {console.log('여러개를 동시에 실행하여 update할수있어')} , [serch, count]);

  return (
    <div className="App">
      <input value={serch} type="text" placeholder="Secrch here.." onChange={onChange}/>
      <h1 className={styles.title}>{count}</h1>
      <button onClick={onClick}>Click me!</button>
    </div>
  );
}

export default App;












import {useState , useEffect } from 'react';
function App() {
  const [show , setCount] = useState(false);
  const click = () => setCount( (prev) => !prev);

 function Title(){
  function hifn(){
    console.log('안녕!!');
    return() => console.log('잘가!!');
  }

  // function byfn(){
  //   console.log('잘가!!');
  // }
  useEffect(hifn,[]);
  // useEffect(()=>{
  //   console.log('{show ? <Title/> : null} show가 true일때만 실행돼!');
  //    return () => console.log('{show ? <Title/> : null} show가 false 일때만 실행돼!');
  // },[])
  return <h1>SHOW ING!</h1>
 }

  return (
    <div className="App">
      {show ? <Title/> : null}
      <button onClick={click}>{show ? "hide" : 'show'}</button>    
    </div>
  );
}

export default App;
